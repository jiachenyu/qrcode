import unittest
import pymysql
import pyodbc

class QRCodeTest(unittest.TestCase):
    def setUp(self):
        self.odbcConn  = pyodbc.connect('DRIVER={SQL Server};SERVER=139.196.57.30;PORT=1443;UID=%s;PWD=%s;DATABASE=%s;' % ('sa', 'windjack123', 'wifi2com'))
        self.mysqlConn = pymysql.connect(host='localhost', user='root', password='hJexOiChC40H', db='qrcode', cursorclass=pymysql.cursors.DictCursor)
    
    def test1(self):
        # 1. MessageUpLog add one new data
        odbcCursor = self.odbcConn.cursor()
        odbcCursor.execute("insert into MessageUpLog(DeviceId, Port, Length, Data) values(?, ?, ?, convert(VARBINARY(max), ?, 2))", 1, 4001, 1000, 0x000000000000040018121800210400FFFFFF080181002FC1C008C008000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004001032100001982000C200000183800201C0109FFFF0020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400102120000100E001860000FF7C00020140018010000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008003061601FFFFFF00184000003000006C340018010000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008002141C0000F4000030400000300000706400100300004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080022C18000324000020C0800020000FC044003002000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B4A181D7630004800180000000010006D83800066200006080800060003CC08400300200008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100071078000C630000C18080006000008184002006000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000E218C0030418001818080004000018206006004000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000C430F0040C0F00201818000C01801840700600400010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200018C07C180C0780C01FF8FFFFFF801080780400C000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007F0023003060080203001FE0000000003300200C00800FE000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000010000C000000000000002C000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)
        odbcCursor.commit()
        
  
if __name__ == '__main__':
    suite = unittest.TestLoader().loadTestsFromTestCase(QRCodeTest)
    unittest.TextTestRunner(verbosity=2).run(suite)